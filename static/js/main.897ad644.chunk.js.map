{"version":3,"sources":["components/app/logo.png","theme/globalStyle.js","components/filter/filter.js","components/ticket/ticket.js","components/tickets/tickets.js","utils/utils.js","components/app/App.js","index.js"],"names":["module","exports","createGlobalStyle","Container","styled","div","Header","h2","List","ul","Item","li","Label","label","Filter","props","allStops","onFilterCheck","htmlFor","type","checked","id","onChange","evt","Heading","h1","Ticket","price","carrier","origin1","origin2","destination1","destination2","date1","date2","stops1","stops2","duration1","duration2","key","uniqueId","src","alt","length","Timer","state","searchId","stop","filtered","noStops","oneStop","twoStops","threeStops","onTicketsLoad","axios","get","then","response","setState","data","tickets","onSortByChipest","catch","onSortByFastest","prevState","sort","first","second","segments","duration","stops","target","this","ticketsList","arr","numberOfFirstElements","resArray","i","cutArray","filter","ticket","map","origin","destination","date","className","onClick","React","Component","App","logo","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.897ad644.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/logo.d2a4807b.png\";","import { createGlobalStyle } from 'styled-components';\n\nexport default createGlobalStyle` \n\n* {\n    box-sizing: border-box;\n}\n\n  body {\n    background-color: #f3f7fa;\n    font-family: 'Open Sans';\n    font-size: 12px;\n    \n    }\n\n    h2 {\n    \n    font-size: 16px;\n    }\n\n    p {\n      font-size: 18px;\n    }\n  \n`;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport styled from 'styled-components';\n\nconst Container = styled.div`\nbackground-color: #ffffff;\nmax-width: 230px;\nborder-radius: 5px;\n`;\n\nconst Header = styled.h2`\ntext-transform: uppercase;\nmargin: 0;\npadding: 20px;\nfont-weight: 600;\nfont-size: 12px;\nline-height: 12px;\nletter-spacing: 0.5px;\ncolor: #4a4a4a;\n`;\n\n\nconst List = styled.ul`\npadding: 0;\nmargin: 0;\nbackground-color: #ffffff;\nmax-width: 230px;\nborder-radius: 5px;\nlist-style: none;\n`;\n\nconst Item = styled.li`\npadding: 10px;\n\n&:hover {\n    cursor: pointer;\n    background-color: #F1FCFF;\n}\n`;\n\nconst Label = styled.label`\ndisplay: block;\n&:hover {\n    cursor: pointer;\n    \n\n}\n`;\n\nconst Filter = (props) => {\n  const {\n    allStops,\n    onFilterCheck,\n  } = props;\n\n  return (\n    <Container>\n\n      <Header>Количество пересадок</Header>\n\n\n      <List>\n        <Item>\n          <Label htmlFor=\"allStops\">\n            <input type=\"checkbox\" checked={allStops} id=\"allStops\" onChange={(evt) => onFilterCheck(evt, 'allStops')} />\n            all\n          </Label>\n        </Item>\n\n        <Item>\n          <Label htmlFor=\"noStops\">\n            <input type=\"checkbox\" id=\"noStops\" onChange={(evt) => onFilterCheck(evt, 'noStops')} />\n            noStops\n          </Label>\n        </Item>\n\n        <Item>\n          <Label htmlFor=\"oneStop\">\n            <input type=\"checkbox\" id=\"oneStop\" onChange={(evt) => onFilterCheck(evt, 'oneStop')} />\n            1stop\n          </Label>\n        </Item>\n\n        <Item>\n          <Label htmlFor=\"twoStops\">\n            <input type=\"checkbox\" id=\"twoStops\" onChange={(evt) => onFilterCheck(evt, 'twoStops')} />\n            2stops\n          </Label>\n        </Item>\n\n        <Item>\n          <Label htmlFor=\"threeStops\">\n            <input type=\"checkbox\" id=\"threeStops\" onChange={(evt) => onFilterCheck(evt, 'threeStops')} />\n            3stops\n          </Label>\n        </Item>\n\n      </List>\n    </Container>\n  );\n};\n\n\nFilter.propTypes = {\n  allStops: PropTypes.bool.isRequired,\n  onFilterCheck: PropTypes.func.isRequired,\n};\n\nexport default Filter;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport styled from 'styled-components';\n\nimport uniqueId from 'lodash.uniqueid';\n\nconst Heading = styled.h1`\ncolor: red;\ntext-align: center;\n`;\n\nconst Item = styled.li`\npadding: 0;\ntext-align: center;\n`;\n\nconst Ticket = (props) => {\n  const {\n    price,\n    carrier,\n    origin1,\n    origin2,\n    destination1,\n    destination2,\n    date1,\n    date2,\n    stops1,\n    stops2,\n    duration1,\n    duration2,\n  } = props;\n\n  return (\n    <Item key={uniqueId()}>\n      <Heading>{price}</Heading>\n      <img src={`//pics.avs.io/99/36/${carrier}.png`} alt={`${carrier}`} />\n      <br />\n      {price}\n      <br />\n      {carrier}\n      <br />\n      {origin1}\n      -\n      {destination1}\n      -\n      {date1}\n      -\n      {duration1}\n      -\n      {stops1.length}\n      <br />\n      {origin2}\n      -\n      {destination2}\n      -\n      {date2}\n      -\n      {duration2}\n      -\n      {stops2.length}\n      <hr />\n    </Item>\n  );\n};\n\n\nTicket.propTypes = {\n  price: PropTypes.number.isRequired,\n  carrier: PropTypes.string.isRequired,\n\n  origin1: PropTypes.string.isRequired,\n  origin2: PropTypes.string.isRequired,\n\n  destination1: PropTypes.string.isRequired,\n  destination2: PropTypes.string.isRequired,\n\n  date1: PropTypes.string.isRequired,\n  date2: PropTypes.string.isRequired,\n\n  duration1: PropTypes.number.isRequired,\n  duration2: PropTypes.number.isRequired,\n\n  stops1: PropTypes.array.isRequired,\n  stops2: PropTypes.array.isRequired,\n\n};\n\nexport default Ticket;\n","import React from 'react';\nimport axios from 'axios';\nimport uniqueId from 'lodash.uniqueid';\nimport styled from 'styled-components';\n\nimport Filter from '../filter/filter';\n\n\nimport Ticket from '../ticket/ticket';\n\n\nimport { cutArray } from '../../utils/utils';\n\nconst List = styled.ul`\npadding: 0;\ntext-align: center;\n`;\n\n\nclass Timer extends React.Component {\n  state = {\n    searchId: '',\n    // tickets: [],\n    stop: false,\n    filtered: [],\n    noStops: false,\n    oneStop: false,\n    twoStops: false,\n    threeStops: false,\n    allStops: true,\n  };\n\n  componentDidMount() {\n    axios.get('https://front-test.beta.aviasales.ru/search').then((response) => {\n      this.setState({\n        searchId: response.data.searchId,\n      });\n      this.onTicketsLoad();\n    });\n  }\n\n  onTicketsLoad = () => {\n    const { searchId, stop } = this.state;\n    axios\n      .get(`https://front-test.beta.aviasales.ru/tickets?searchId=${searchId}`)\n      .then((response) => {\n        this.setState({\n          filtered: [...response.data.tickets],\n          stop: response.data.stop,\n        });\n        if (!stop) {\n          this.onTicketsLoad();\n          this.onSortByChipest();\n        }\n      })\n      .catch(() => {\n        // console.log('error', error);\n        if (!stop) {\n          this.onTicketsLoad();\n        }\n      });\n  };\n\n  onSortByFastest = () => {\n    this.setState((prevState) => ({\n      filtered: prevState.filtered\n        .sort((first, second) => (first.segments[0].duration + first.segments[1].duration)\n      - (second.segments[0].duration + second.segments[1].duration)),\n    }));\n  }\n\n  onSortByChipest = () => {\n    this.setState((prevState) => ({\n      filtered: prevState.filtered\n        .sort((first, second) => first.price - second.price),\n    }));\n  }\n\n\n  onFilterCheck = (evt, stops) => {\n    this.setState({\n      [stops]: evt.target.checked,\n    });\n  }\n\n\n  render() {\n    const {\n      noStops, oneStop, twoStops, threeStops, allStops, filtered,\n    } = this.state;\n\n    const ticketsFiltered = filtered\n      .filter((ticket) => allStops\n      || (threeStops && ticket.segments[0].stops.length === 3)\n      || (twoStops && ticket.segments[0].stops.length === 2)\n      || (oneStop && ticket.segments[0].stops.length === 1)\n      || (noStops && ticket.segments[0].stops.length === 0));\n\n    const ticketsFilteredCutted = cutArray(ticketsFiltered, 5);\n\n\n    const ticketsList = ticketsFilteredCutted.map((ticket) => (\n      <Ticket\n        key={uniqueId()}\n        price={ticket.price}\n        carrier={ticket.carrier}\n        origin1={ticket.segments[0].origin}\n        origin2={ticket.segments[1].origin}\n        destination1={ticket.segments[0].destination}\n        destination2={ticket.segments[1].destination}\n        date1={ticket.segments[0].date}\n        date2={ticket.segments[1].date}\n        stops1={ticket.segments[0].stops}\n        stops2={ticket.segments[1].stops}\n        duration1={ticket.segments[0].duration}\n        duration2={ticket.segments[1].duration}\n\n      />\n    ));\n\n    return (\n      <div className=\"timer-container\">\n        <Filter\n          allStops={allStops}\n          onFilterCheck={this.onFilterCheck}\n        />\n\n        <div>\n          <button type=\"button\" onClick={this.onSortByFastest}>\n            SortByFastest\n          </button>\n          <button type=\"button\" onClick={this.onSortByChipest}>\n            SortByChipest\n          </button>\n        </div>\n\n        <List>\n          {ticketsList}\n        </List>\n      </div>\n    );\n  }\n}\n\nexport default Timer;\n","export const cutArray = (arr, numberOfFirstElements) => {\n  if (arr.length === 0) {\n    return [];\n  }\n  const resArray = [];\n  for (let i = 0; i < numberOfFirstElements; i += 1) {\n    resArray[i] = arr[i];\n  }\n  return resArray;\n};\n\nexport const nulled = () => null;\n","import React from 'react';\nimport GlobalStyle from '../../theme/globalStyle';\nimport logo from './logo.png';\nimport Tickets from '../tickets/tickets';\n\nconst App = () => (\n  <>\n    <GlobalStyle />\n    <header>\n      <img src={logo} alt=\"logo\" />\n    </header>\n    <Tickets />\n  </>\n);\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './components/app/App';\n\nimport './index.scss';\n\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}