(this.webpackJsonpaviasales=this.webpackJsonpaviasales||[]).push([[0],{28:function(n,t,e){n.exports=e.p+"static/media/Logo.d2a4807b.png"},37:function(n,t,e){n.exports=e(62)},61:function(n,t,e){},62:function(n,t,e){"use strict";e.r(t);var r=e(0),a=e.n(r),o=e(27),i=e.n(o),c=e(28),l=e.n(c),u=e(11),s=e.n(u),f=e(29),p=e(7),d=e(15),h=e(12),m=e(30),x=e(31),g=e(36),b=e(35),v=e(8),w=e.n(v),S=e(1),j=e(2);function E(){var n=Object(S.a)(["\n  position: absolute;\n  width: 1px;\n  height: 1px;\n  margin: -1px;\n  padding: 0;\n  overflow: hidden;\n  border: 0;\n  clip: rect(0 0 0 0);\n\n  &:checked + "," {\n    &::before {\n      border-color: #2196f3;\n    }\n\n    &::after {\n      content: '';\n      position: absolute;\n      width: 10px;\n      height: 5px;\n      left: 25px;\n      top: 16px;\n      border: 2px solid #2196f3;\n      border-left: none;\n      border-bottom: none;\n      transform: rotate(135deg);\n    }\n  }\n"]);return E=function(){return n},n}function O(){var n=Object(S.a)(["\n  display: block;\n  position: relative;\n  padding: 10px 0;\n  padding-left: 50px;\n  font-size: 13px;\n  line-height: 20px;\n  color: #4a4a4a;\n  transition: all 0.3s ease;\n\n  &:hover {\n    cursor: pointer;\n    background-color: #f1fcff;\n  }\n\n  &::before {\n    content: '';\n    position: absolute;\n    width: 20px;\n    height: 20px;\n    left: 20px;\n    top: 10px;\n    border: 1px solid #9abbce;\n    border-radius: 2px;\n  }\n"]);return O=function(){return n},n}function y(){var n=Object(S.a)([""]);return y=function(){return n},n}function k(){var n=Object(S.a)(["\n  padding: 0;\n  margin: 0;\n  padding-bottom: 10px;\n  background-color: #ffffff;\n  max-width: 230px;\n  border-radius: 5px;\n  list-style: none;\n\n  @media (max-width: 768px) {\n    max-width: 100%;\n  }\n"]);return k=function(){return n},n}function C(){var n=Object(S.a)(["\n  text-transform: uppercase;\n  margin: 0;\n  padding: 20px;\n  font-weight: 600;\n  font-size: 12px;\n  line-height: 12px;\n  letter-spacing: 0.5px;\n  color: #4a4a4a;\n"]);return C=function(){return n},n}function F(){var n=Object(S.a)(["\n  background-color: #ffffff;\n  border-radius: 5px;\n  box-shadow: 0px 2px 8px rgba(0, 0, 0, 0.1);\n  margin-right: 20px;\n\n  @media (max-width: 768px) {\n    width: 100%;\n    margin-bottom: 20px;\n  }\n"]);return F=function(){return n},n}var B=j.a.div(F()),z=j.a.p(C()),I=j.a.ul(k()),P=j.a.li(y()),L=j.a.label(O()),H=j.a.input(E(),L),T=function(n){var t=n.allStops,e=n.noStops,r=n.oneStop,o=n.twoStops,i=n.threeStops,c=n.onFilterCheck,l=function(n,t,e){return a.a.createElement(P,null,a.a.createElement(H,{type:"checkbox",checked:e,id:n,onChange:function(t){return c(t,n)}}),a.a.createElement(L,{htmlFor:n},t))};return a.a.createElement(B,null,a.a.createElement(z,null,"\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u043f\u0435\u0440\u0435\u0441\u0430\u0434\u043e\u043a"),a.a.createElement(I,null,l("allStops","\u0412\u0441\u0435",t),l("noStops","\u0411\u0435\u0437 \u043f\u0435\u0440\u0435\u0441\u0430\u0434\u043e\u043a",e),l("oneStop","1 \u043f\u0435\u0440\u0435\u0441\u0430\u0434\u043a\u0430",r),l("twoStops","2 \u043f\u0435\u0440\u0435\u0441\u0430\u0434\u043a\u0438",o),l("threeStops","3 \u043f\u0435\u0440\u0435\u0441\u0430\u0434\u043a\u0438",i)))};function D(){var n=Object(S.a)(["\n  position: absolute;\n  width: 1px;\n  height: 1px;\n  margin: -1px;\n  padding: 0;\n  overflow: hidden;\n  border: 0;\n  clip: rect(0 0 0 0);\n\n  &:checked + "," {\n    background-color: #2196f3;\n    color: #ffffff;\n  }\n"]);return D=function(){return n},n}function J(){var n=Object(S.a)(["\n  width: 50%;\n  display: block;\n  position: relative;\n  padding: 15px 0;\n  color: #4a4a4a;\n  font-weight: 600;\n  font-size: 12px;\n  line-height: 20px;\n  letter-spacing: 0.5px;\n  text-align: center;\n  text-transform: uppercase;\n  transition: all 0.3s ease;\n\n  &:hover {\n    cursor: pointer;\n  }\n"]);return J=function(){return n},n}function M(){var n=Object(S.a)(["\n  display: flex;\n  background-color: #ffffff;\n  border-radius: 5px;\n  overflow: hidden;\n  border: 1px solid #dfe5ec;\n  margin-bottom: 20px;\n"]);return M=function(){return n},n}var $=j.a.div(M()),A=j.a.label(J()),q=j.a.input(D(),A),G=function(n){var t=n.sortByPrice,e=n.onSortChange,r=function(n,t,r,o){return a.a.createElement(a.a.Fragment,null,a.a.createElement(q,{checked:o,value:n,id:t,name:"sort",type:"radio",onChange:function(n){return e(n)}}),a.a.createElement(A,{htmlFor:t},r))};return a.a.createElement($,null,r("chipest","chipestChoice","\u0421\u0430\u043c\u044b\u0439 \u0434\u0435\u0448\u0435\u0432\u044b\u0439",t),r("fastest","fastestChoice","\u0421\u0430\u043c\u044b\u0439 \u0431\u044b\u0441\u0442\u0440\u044b\u0439"))},K=e(65),N=e(64);function Q(){var n=Object(S.a)(["\n  font-weight: 600;\n  font-size: 14px;\n  line-height: 21px;\n  color: #4a4a4a;\n  margin-bottom: 10px;\n  text-align: left;\n"]);return Q=function(){return n},n}function R(){var n=Object(S.a)(["\n  font-weight: 600;\n  font-size: 12px;\n  line-height: 18px;\n  color: #a0b0b9;\n  text-align: left;\n  text-transform: uppercase;\n"]);return R=function(){return n},n}function U(){var n=Object(S.a)(["\n  display: flex;\n  flex-direction: column;\n  width: 30%;\n"]);return U=function(){return n},n}function V(){var n=Object(S.a)(["\n  list-style: none;\n  padding: 0;\n  display: flex;\n  justify-content: space-between;\n"]);return V=function(){return n},n}function W(){var n=Object(S.a)(["\n  padding: 20px;\n  background-color: #ffffff;\n  border-radius: 5px;\n  box-shadow: 0px 2px 8px rgba(0, 0, 0, 0.1);\n  margin-bottom: 20px;\n"]);return W=function(){return n},n}function X(){var n=Object(S.a)(["\n  text-align: left;\n  width: 30%;\n"]);return X=function(){return n},n}function Y(){var n=Object(S.a)(["\n  font-weight: 600;\n  font-size: 24px;\n  line-height: 30px;\n  color: #2196f3;\n  width: 50%;\n  text-align: left;\n  margin-bottom: 25px;\n"]);return Y=function(){return n},n}function Z(){var n=Object(S.a)(["\n  display: flex;\n  justify-content: space-between;\n"]);return Z=function(){return n},n}var _=j.a.div(Z()),nn=j.a.span(Y()),tn=j.a.div(X()),en=j.a.li(W()),rn=j.a.ul(V()),an=j.a.li(U()),on=j.a.span(R()),cn=j.a.span(Q()),ln=function(n){var t=n.price,e=n.carrier,r=n.segments,o=r.map((function(n,t,e){return a.a.createElement(rn,{key:w()()},a.a.createElement(an,null,a.a.createElement(on,null,e[0].origin," ","-",e[1].origin),a.a.createElement(cn,null,(r=n.date,o=n.duration,"".concat(Object(K.a)(new Date(r),"HH:mm")," \u2013 ").concat(Object(K.a)(Object(N.a)(new Date(r),o),"HH:mm"))))),a.a.createElement(an,null,a.a.createElement(on,null,"\u0412 \u043f\u0443\u0442\u0438"),a.a.createElement(cn,null,function(n){return"".concat(Math.floor(n/60)," \u0447 ").concat(n%60," \u043c")}(n.duration))),a.a.createElement(an,null,a.a.createElement(on,null,0===n.stops.length?null:n.stops.length,function(n){switch(n){case 0:return"\u0411\u0435\u0437 \u043f\u0435\u0440\u0435\u0441\u0430\u0434\u043e\u043a";case 1:return" \u041f\u0435\u0440\u0435\u0441\u0430\u0434\u043a\u0430";default:return" \u041f\u0435\u0440\u0435\u0441\u0430\u0434\u043a\u0438"}}(n.stops.length)),a.a.createElement(cn,null,n.stops.join(", "))));var r,o}));return a.a.createElement(en,null,a.a.createElement(_,null,a.a.createElement(nn,null,function(n){return"".concat(n.toString().replace(/(\d)(?=(\d{3})+$)/g,"$1 ")," \u0420")}(t)),a.a.createElement(tn,null,a.a.createElement("img",{src:"//pics.avs.io/99/36/".concat(e,".png"),alt:"".concat(e)}))),o)},un=e(14),sn=e.n(un),fn="https://front-test.beta.aviasales.ru",pn=function(n){return sn.a.get("".concat(fn,"/tickets?searchId=").concat(n))};function dn(){var n=Object(S.a)(["\n  width: 10px;\n  height: 10px;\n  position: absolute;\n  top: 50%;\n  border-radius: 50%;\n  position: relative;\n  animation: loader-2 0.9s 0.35s ease alternate infinite;\n  margin: -20px auto 0;\n\n  &:after,\n  &:before {\n    content: '';\n    position: absolute;\n    width: 10px;\n    height: 10px;\n    border-radius: 50%;\n    animation: loader-2 0.9s ease alternate infinite;\n  }\n\n  &:before {\n    left: -20px;\n    animation-delay: 0.2s;\n  }\n\n  &:after {\n    right: -20px;\n    animation-delay: 0.5s;\n  }\n\n  @keyframes loader-2 {\n    0% {\n      box-shadow: 0 15px 0 -15px #ffffff;\n    }\n    100% {\n      box-shadow: 0 15px 0 #ffffff;\n    }\n  }\n"]);return dn=function(){return n},n}function hn(){var n=Object(S.a)(["\n  position: fixed;\n  width: 100%;\n  height: 100%;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  margin: auto;\n  background-color: rgba(0, 0, 0, 0.3);\n"]);return hn=function(){return n},n}function mn(){var n=Object(S.a)(["\n  padding: 0;\n  margin: 0;\n  text-align: center;\n  list-style: none;\n"]);return mn=function(){return n},n}function xn(){var n=Object(S.a)(["\n  display: flex;\n  flex-direction: column;\n  flex-grow: 1;\n  padding: 0;\n\n  @media (max-width: 768px) {\n    width: 100%;\n  }\n"]);return xn=function(){return n},n}function gn(){var n=Object(S.a)(["\n  display: flex;\n\n  align-items: flex-start;\n  margin: 0 auto;\n  padding: 0 10px;\n  max-width: 730px;\n\n  @media (max-width: 768px) {\n    flex-direction: column;\n  }\n"]);return gn=function(){return n},n}var bn=j.a.div(gn()),vn=j.a.div(xn()),wn=j.a.ul(mn()),Sn=j.a.div(hn()),jn=j.a.div(dn()),En=function(n){Object(g.a)(e,n);var t=Object(b.a)(e);function e(){var n;Object(m.a)(this,e);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(n=t.call.apply(t,[this].concat(a))).state={searchId:"",sortByPrice:!0,stop:!1,filtered:[],noStops:!0,oneStop:!0,twoStops:!0,threeStops:!0,allStops:!0},n.onTicketsLoad=function(){var t=n.state,e=t.searchId,r=t.stop,a=t.filtered;pn(e).then((function(t){var e=t.data.tickets.map((function(n){return Object(h.a)(Object(h.a)({},n),{},{id:w()()})}));n.setState({filtered:[].concat(Object(d.a)(a),Object(d.a)(e)),stop:t.data.stop}),r||(n.setState((function(n){return{filtered:n.filtered.sort((function(n,t){return n.price-t.price}))}})),n.onTicketsLoad())})).catch((function(){r||n.onTicketsLoad()}))},n.onSortChange=function(t){"fastest"===t.target.value?n.setState((function(n){return{sortByPrice:!1,filtered:n.filtered.sort((function(n,t){return n.segments[0].duration+n.segments[1].duration-(t.segments[0].duration+t.segments[1].duration)}))}})):n.setState((function(n){return{sortByPrice:!0,filtered:n.filtered.sort((function(n,t){return n.price-t.price}))}}))},n.onFilterCheck=function(t,e){"allStops"===e?n.setState((function(n){return{noStops:!n.allStops,oneStop:!n.allStops,twoStops:!n.allStops,threeStops:!n.allStops,allStops:!n.allStops}})):n.setState((function(n){var t;return t={},Object(p.a)(t,e,!n[e]),Object(p.a)(t,"allStops",!1),t}))},n}return Object(x.a)(e,[{key:"componentDidMount",value:function(){var n=Object(f.a)(s.a.mark((function n(){return s.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=this,n.next=3,sn.a.get("".concat(fn,"/search")).then((function(n){return n.data.searchId}));case 3:n.t1=n.sent,n.t2={searchId:n.t1},n.t0.setState.call(n.t0,n.t2),this.onTicketsLoad();case 7:case"end":return n.stop()}}),n,this)})));return function(){return n.apply(this,arguments)}}()},{key:"render",value:function(){var n=this.state,t=n.noStops,e=n.oneStop,r=n.twoStops,o=n.threeStops,i=n.allStops,c=n.filtered,l=n.sortByPrice,u=n.stop,s=function(n,t){if(0===n.length)return[];for(var e=[],r=0;r<t;r+=1)e[r]=n[r];return e}(c.filter((function(n){var a=n.segments[0].stops;return i||o&&3===a.length||r&&2===a.length||e&&1===a.length||t&&0===a.length})),5).map((function(n){return a.a.createElement(ln,{key:n.id,price:n.price,carrier:n.carrier,segments:n.segments})}));return a.a.createElement(bn,null,a.a.createElement(T,{allStops:i,noStops:t,oneStop:e,twoStops:r,threeStops:o,onFilterCheck:this.onFilterCheck}),a.a.createElement(vn,null,a.a.createElement(G,{sortByPrice:l,onSortChange:this.onSortChange}),a.a.createElement(wn,null,s)),u?null:a.a.createElement(Sn,null,a.a.createElement(jn,null)))}}]),e}(a.a.Component);function On(){var n=Object(S.a)(["\n  display: flex;\n  margin: 40px auto;\n"]);return On=function(){return n},n}var yn=j.a.img(On()),kn=function(){return a.a.createElement(a.a.Fragment,null,a.a.createElement(yn,{src:l.a,alt:"logo"}),a.a.createElement(En,null))};e(61);i.a.render(a.a.createElement(kn,null),document.getElementById("root"))}},[[37,1,2]]]);
//# sourceMappingURL=main.43c9be5e.chunk.js.map