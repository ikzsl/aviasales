(this.webpackJsonpaviasales=this.webpackJsonpaviasales||[]).push([[0],{23:function(t,e,n){t.exports=n.p+"static/media/logo.d2a4807b.png"},30:function(t,e,n){t.exports=n(54)},53:function(t,e,n){},54:function(t,e,n){"use strict";n.r(e);var r=n(0),a=n.n(r),o=n(19),c=n.n(o),i=n(2),s=n(3);function l(){var t=Object(i.a)([" \n\n* {\n    box-sizing: border-box;\n}\n\n  body {\n    background-color: #f3f7fa;\n    font-family: 'Open Sans';\n    font-size: 12px;\n    \n    }\n\n    h2 {\n    \n    font-size: 16px;\n    }\n\n    p {\n      font-size: 18px;\n    }\n  \n"]);return l=function(){return t},t}var u=Object(s.a)(l()),p=n(23),f=n.n(p),d=n(24),m=n(27),h=n(25),g=n(26),b=n(29),S=n(28),E=n(7),v=n.n(E),k=n(5),x=n.n(k);function y(){var t=Object(i.a)(["\ndisplay: block;\n&:hover {\n    cursor: pointer;\n    \n\n}\n"]);return y=function(){return t},t}function C(){var t=Object(i.a)(["\npadding: 10px;\n\n&:hover {\n    cursor: pointer;\n    background-color: #F1FCFF;\n}\n"]);return C=function(){return t},t}function F(){var t=Object(i.a)(["\npadding: 0;\nmargin: 0;\nbackground-color: #ffffff;\nmax-width: 230px;\nborder-radius: 5px;\nlist-style: none;\n"]);return F=function(){return t},t}function O(){var t=Object(i.a)(["\ntext-transform: uppercase;\nmargin: 0;\npadding: 20px;\nfont-weight: 600;\nfont-size: 12px;\nline-height: 12px;\nletter-spacing: 0.5px;\ncolor: #4a4a4a;\n"]);return O=function(){return t},t}function j(){var t=Object(i.a)(["\nbackground-color: #ffffff;\nmax-width: 230px;\nborder-radius: 5px;\n"]);return j=function(){return t},t}var w=s.b.div(j()),B=s.b.h2(O()),I=s.b.ul(F()),z=s.b.li(C()),L=s.b.label(y()),T=function(t){var e=t.allStops,n=t.onFilterCheck;return a.a.createElement(w,null,a.a.createElement(B,null,"\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u043f\u0435\u0440\u0435\u0441\u0430\u0434\u043e\u043a"),a.a.createElement(I,null,a.a.createElement(z,null,a.a.createElement(L,{htmlFor:"allStops"},a.a.createElement("input",{type:"checkbox",checked:e,id:"allStops",onChange:function(t){return n(t,"allStops")}}),"all")),a.a.createElement(z,null,a.a.createElement(L,{htmlFor:"noStops"},a.a.createElement("input",{type:"checkbox",id:"noStops",onChange:function(t){return n(t,"noStops")}}),"noStops")),a.a.createElement(z,null,a.a.createElement(L,{htmlFor:"oneStop"},a.a.createElement("input",{type:"checkbox",id:"oneStop",onChange:function(t){return n(t,"oneStop")}}),"1stop")),a.a.createElement(z,null,a.a.createElement(L,{htmlFor:"twoStops"},a.a.createElement("input",{type:"checkbox",id:"twoStops",onChange:function(t){return n(t,"twoStops")}}),"2stops")),a.a.createElement(z,null,a.a.createElement(L,{htmlFor:"threeStops"},a.a.createElement("input",{type:"checkbox",id:"threeStops",onChange:function(t){return n(t,"threeStops")}}),"3stops"))))};function J(){var t=Object(i.a)(["\npadding: 0;\ntext-align: center;\n"]);return J=function(){return t},t}function A(){var t=Object(i.a)(["\ncolor: red;\ntext-align: center;\n"]);return A=function(){return t},t}var D=s.b.h1(A()),M=s.b.li(J()),N=function(t){var e=t.price,n=t.carrier,r=t.origin1,o=t.origin2,c=t.destination1,i=t.destination2,s=t.date1,l=t.date2,u=t.stops1,p=t.stops2,f=t.duration1,d=t.duration2;return a.a.createElement(M,{key:x()()},a.a.createElement(D,null,e),a.a.createElement("img",{src:"//pics.avs.io/99/36/".concat(n,".png"),alt:"".concat(n)}),a.a.createElement("br",null),e,a.a.createElement("br",null),n,a.a.createElement("br",null),r,"-",c,"-",s,"-",f,"-",u.length,a.a.createElement("br",null),o,"-",i,"-",l,"-",d,"-",p.length,a.a.createElement("hr",null))};function q(){var t=Object(i.a)(["\npadding: 0;\ntext-align: center;\n"]);return q=function(){return t},t}var G=s.b.ul(q()),H=function(t){Object(b.a)(n,t);var e=Object(S.a)(n);function n(){var t;Object(h.a)(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(t=e.call.apply(e,[this].concat(a))).state={searchId:"",stop:!1,filtered:[],noStops:!1,oneStop:!1,twoStops:!1,threeStops:!1,allStops:!0},t.onTicketsLoad=function(){var e=t.state,n=e.searchId,r=e.stop;v.a.get("https://front-test.beta.aviasales.ru/tickets?searchId=".concat(n)).then((function(e){t.setState({filtered:Object(m.a)(e.data.tickets),stop:e.data.stop}),r||(t.onTicketsLoad(),t.onSortByChipest())})).catch((function(){r||t.onTicketsLoad()}))},t.onSortByFastest=function(){t.setState((function(t){return{filtered:t.filtered.sort((function(t,e){return t.segments[0].duration+t.segments[1].duration-(e.segments[0].duration+e.segments[1].duration)}))}}))},t.onSortByChipest=function(){t.setState((function(t){return{filtered:t.filtered.sort((function(t,e){return t.price-e.price}))}}))},t.onFilterCheck=function(e,n){t.setState(Object(d.a)({},n,e.target.checked))},t}return Object(g.a)(n,[{key:"componentDidMount",value:function(){var t=this;v.a.get("https://front-test.beta.aviasales.ru/search").then((function(e){t.setState({searchId:e.data.searchId}),t.onTicketsLoad()}))}},{key:"render",value:function(){var t=this.state,e=t.noStops,n=t.oneStop,r=t.twoStops,o=t.threeStops,c=t.allStops,i=function(t,e){if(0===t.length)return[];for(var n=[],r=0;r<e;r+=1)n[r]=t[r];return n}(t.filtered.filter((function(t){return c||o&&3===t.segments[0].stops.length||r&&2===t.segments[0].stops.length||n&&1===t.segments[0].stops.length||e&&0===t.segments[0].stops.length})),5).map((function(t){return a.a.createElement(N,{key:x()(),price:t.price,carrier:t.carrier,origin1:t.segments[0].origin,origin2:t.segments[1].origin,destination1:t.segments[0].destination,destination2:t.segments[1].destination,date1:t.segments[0].date,date2:t.segments[1].date,stops1:t.segments[0].stops,stops2:t.segments[1].stops,duration1:t.segments[0].duration,duration2:t.segments[1].duration})}));return a.a.createElement("div",{className:"timer-container"},a.a.createElement(T,{allStops:c,onFilterCheck:this.onFilterCheck}),a.a.createElement("div",null,a.a.createElement("button",{type:"button",onClick:this.onSortByFastest},"SortByFastest"),a.a.createElement("button",{type:"button",onClick:this.onSortByChipest},"SortByChipest")),a.a.createElement(G,null,i))}}]),n}(a.a.Component),K=function(){return a.a.createElement(a.a.Fragment,null,a.a.createElement(u,null),a.a.createElement("header",null,a.a.createElement("img",{src:f.a,alt:"logo"})),a.a.createElement(H,null))};n(53);c.a.render(a.a.createElement(K,null),document.getElementById("root"))}},[[30,1,2]]]);
//# sourceMappingURL=main.897ad644.chunk.js.map