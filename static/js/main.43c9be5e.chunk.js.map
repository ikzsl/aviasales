{"version":3,"sources":["media/Logo.png","components/filter/style.js","components/filter/filter.js","components/sort/style.js","components/sort/sort.js","components/ticket/style.js","components/ticket/ticket.js","utils/utils.js","data/data.js","components/tickets/style.js","components/tickets/tickets.js","components/app/style.js","components/app/App.js","index.js"],"names":["module","exports","Container","styled","div","Header","p","List","ul","Item","li","Label","label","Checkbox","input","Filter","props","allStops","noStops","oneStop","twoStops","threeStops","onFilterCheck","item","id","checked","type","onChange","evt","htmlFor","Radio","Sort","sortByPrice","onSortChange","SortButton","value","name","Price","span","CarrierLogo","Segment","Column","ColumnHeader","ColumnData","Ticket","price","carrier","segments","segmentsList","map","segment","idx","arr","key","uniqueId","origin","date","duration","lightFormat","Date","addMinutes","Math","floor","formatDuration","stops","length","switchStops","join","toString","replace","formatPrice","src","alt","url","getData","searchId","axios","get","Wrapper","Loading","LoadingInner","Tickets","state","stop","filtered","onTicketsLoad","then","response","ticketsById","data","tickets","ticket","setState","prevState","sort","first","second","catch","target","this","ticketsList","numberOfFirstElements","resArray","i","cutArray","filter","React","Component","img","App","logo","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.43c9be5e.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/Logo.d2a4807b.png\";","import styled from 'styled-components';\n\nexport const Container = styled.div`\n  background-color: #ffffff;\n  border-radius: 5px;\n  box-shadow: 0px 2px 8px rgba(0, 0, 0, 0.1);\n  margin-right: 20px;\n\n  @media (max-width: 768px) {\n    width: 100%;\n    margin-bottom: 20px;\n  }\n`;\n\nexport const Header = styled.p`\n  text-transform: uppercase;\n  margin: 0;\n  padding: 20px;\n  font-weight: 600;\n  font-size: 12px;\n  line-height: 12px;\n  letter-spacing: 0.5px;\n  color: #4a4a4a;\n`;\n\nexport const List = styled.ul`\n  padding: 0;\n  margin: 0;\n  padding-bottom: 10px;\n  background-color: #ffffff;\n  max-width: 230px;\n  border-radius: 5px;\n  list-style: none;\n\n  @media (max-width: 768px) {\n    max-width: 100%;\n  }\n`;\n\nexport const Item = styled.li``;\n\nexport const Label = styled.label`\n  display: block;\n  position: relative;\n  padding: 10px 0;\n  padding-left: 50px;\n  font-size: 13px;\n  line-height: 20px;\n  color: #4a4a4a;\n  transition: all 0.3s ease;\n\n  &:hover {\n    cursor: pointer;\n    background-color: #f1fcff;\n  }\n\n  &::before {\n    content: '';\n    position: absolute;\n    width: 20px;\n    height: 20px;\n    left: 20px;\n    top: 10px;\n    border: 1px solid #9abbce;\n    border-radius: 2px;\n  }\n`;\n\nexport const Checkbox = styled.input`\n  position: absolute;\n  width: 1px;\n  height: 1px;\n  margin: -1px;\n  padding: 0;\n  overflow: hidden;\n  border: 0;\n  clip: rect(0 0 0 0);\n\n  &:checked + ${Label} {\n    &::before {\n      border-color: #2196f3;\n    }\n\n    &::after {\n      content: '';\n      position: absolute;\n      width: 10px;\n      height: 5px;\n      left: 25px;\n      top: 16px;\n      border: 2px solid #2196f3;\n      border-left: none;\n      border-bottom: none;\n      transform: rotate(135deg);\n    }\n  }\n`;\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport {\n  Container, Header, List, Item, Label, Checkbox,\n} from './style';\n\nconst Filter = (props) => {\n  const {\n    allStops, noStops, oneStop, twoStops, threeStops, onFilterCheck,\n  } = props;\n\n  const item = (id, label, checked) => (\n    <Item>\n      <Checkbox\n        type=\"checkbox\"\n        checked={checked}\n        id={id}\n        onChange={(evt) => onFilterCheck(evt, id)}\n      />\n      <Label htmlFor={id}>{label}</Label>\n    </Item>\n  );\n\n  return (\n    <Container>\n      <Header>Количество пересадок</Header>\n      <List>\n        {item('allStops', 'Все', allStops)}\n        {item('noStops', 'Без пересадок', noStops)}\n        {item('oneStop', '1 пересадка', oneStop)}\n        {item('twoStops', '2 пересадки', twoStops)}\n        {item('threeStops', '3 пересадки', threeStops)}\n      </List>\n    </Container>\n  );\n};\n\nFilter.propTypes = {\n  allStops: PropTypes.bool.isRequired,\n  noStops: PropTypes.bool.isRequired,\n  oneStop: PropTypes.bool.isRequired,\n  twoStops: PropTypes.bool.isRequired,\n  threeStops: PropTypes.bool.isRequired,\n  onFilterCheck: PropTypes.func.isRequired,\n};\n\nexport default Filter;\n","import styled from 'styled-components';\n\nexport const Container = styled.div`\n  display: flex;\n  background-color: #ffffff;\n  border-radius: 5px;\n  overflow: hidden;\n  border: 1px solid #dfe5ec;\n  margin-bottom: 20px;\n`;\n\nexport const Label = styled.label`\n  width: 50%;\n  display: block;\n  position: relative;\n  padding: 15px 0;\n  color: #4a4a4a;\n  font-weight: 600;\n  font-size: 12px;\n  line-height: 20px;\n  letter-spacing: 0.5px;\n  text-align: center;\n  text-transform: uppercase;\n  transition: all 0.3s ease;\n\n  &:hover {\n    cursor: pointer;\n  }\n`;\n\nexport const Radio = styled.input`\n  position: absolute;\n  width: 1px;\n  height: 1px;\n  margin: -1px;\n  padding: 0;\n  overflow: hidden;\n  border: 0;\n  clip: rect(0 0 0 0);\n\n  &:checked + ${Label} {\n    background-color: #2196f3;\n    color: #ffffff;\n  }\n`;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Container, Label, Radio } from './style';\n\nconst Sort = (props) => {\n  const { sortByPrice, onSortChange } = props;\n\n  const SortButton = (value, id, label, checked) => (\n    <>\n      <Radio\n        checked={checked}\n        value={value}\n        id={id}\n        name=\"sort\"\n        type=\"radio\"\n        onChange={(evt) => onSortChange(evt)}\n      />\n      <Label htmlFor={id}>{label}</Label>\n    </>\n  );\n\n  return (\n    <Container>\n      {SortButton('chipest', 'chipestChoice', 'Самый дешевый', sortByPrice)}\n      {SortButton('fastest', 'fastestChoice', 'Самый быстрый')}\n    </Container>\n  );\n};\n\nSort.propTypes = {\n  sortByPrice: PropTypes.bool.isRequired,\n  onSortChange: PropTypes.func.isRequired,\n};\n\nexport default Sort;\n","import styled from 'styled-components';\n\nexport const Header = styled.div`\n  display: flex;\n  justify-content: space-between;\n`;\n\nexport const Price = styled.span`\n  font-weight: 600;\n  font-size: 24px;\n  line-height: 30px;\n  color: #2196f3;\n  width: 50%;\n  text-align: left;\n  margin-bottom: 25px;\n`;\n\nexport const CarrierLogo = styled.div`\n  text-align: left;\n  width: 30%;\n`;\n\nexport const Item = styled.li`\n  padding: 20px;\n  background-color: #ffffff;\n  border-radius: 5px;\n  box-shadow: 0px 2px 8px rgba(0, 0, 0, 0.1);\n  margin-bottom: 20px;\n`;\n\nexport const Segment = styled.ul`\n  list-style: none;\n  padding: 0;\n  display: flex;\n  justify-content: space-between;\n`;\n\nexport const Column = styled.li`\n  display: flex;\n  flex-direction: column;\n  width: 30%;\n`;\n\nexport const ColumnHeader = styled.span`\n  font-weight: 600;\n  font-size: 12px;\n  line-height: 18px;\n  color: #a0b0b9;\n  text-align: left;\n  text-transform: uppercase;\n`;\n\nexport const ColumnData = styled.span`\n  font-weight: 600;\n  font-size: 14px;\n  line-height: 21px;\n  color: #4a4a4a;\n  margin-bottom: 10px;\n  text-align: left;\n`;\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport uniqueId from 'lodash.uniqueid';\nimport { formatPrice, formatDuration, formatInterval } from '../../utils/utils';\n\nimport {\n  Header,\n  Price,\n  CarrierLogo,\n  Item,\n  Segment,\n  Column,\n  ColumnHeader,\n  ColumnData,\n} from './style';\n\nconst Ticket = (props) => {\n  const { price, carrier, segments } = props;\n\n  const switchStops = (stops) => {\n    switch (stops) {\n      case 0:\n        return 'Без пересадок';\n\n      case 1:\n        return ' Пересадка';\n\n      default:\n        return ' Пересадки';\n    }\n  };\n\n  const segmentsList = segments.map((segment, idx, arr) => (\n    <Segment key={uniqueId()}>\n      <Column>\n        <ColumnHeader>\n          {arr[0].origin}\n          {' '}\n          -\n          {arr[1].origin}\n        </ColumnHeader>\n        <ColumnData>{formatInterval(segment.date, segment.duration)}</ColumnData>\n      </Column>\n      <Column>\n        <ColumnHeader>В пути</ColumnHeader>\n        <ColumnData>{formatDuration(segment.duration)}</ColumnData>\n      </Column>\n      <Column>\n        <ColumnHeader>\n          {segment.stops.length === 0 ? null : segment.stops.length}\n          {switchStops(segment.stops.length)}\n        </ColumnHeader>\n        <ColumnData>{segment.stops.join(', ')}</ColumnData>\n      </Column>\n    </Segment>\n  ));\n\n  return (\n    <Item>\n      <Header>\n        <Price>{formatPrice(price)}</Price>\n        <CarrierLogo>\n          <img src={`//pics.avs.io/99/36/${carrier}.png`} alt={`${carrier}`} />\n        </CarrierLogo>\n      </Header>\n      {segmentsList}\n    </Item>\n  );\n};\n\nTicket.propTypes = {\n  price: PropTypes.number.isRequired,\n  carrier: PropTypes.string.isRequired,\n\n  // eslint-disable-next-line react/forbid-prop-types\n  segments: PropTypes.array.isRequired,\n};\n\nexport default Ticket;\n","import { lightFormat, addMinutes } from 'date-fns';\n\nexport const cutArray = (arr, numberOfFirstElements) => {\n  if (arr.length === 0) {\n    return [];\n  }\n  const resArray = [];\n  for (let i = 0; i < numberOfFirstElements; i += 1) {\n    resArray[i] = arr[i];\n  }\n  return resArray;\n};\n\nexport const formatPrice = (price) => `${price.toString().replace(/(\\d)(?=(\\d{3})+$)/g, '$1 ')} Р`;\n\nexport const formatDuration = (duration) => `${Math.floor(duration / 60)} ч ${duration % 60} м`;\n\nexport const formatInterval = (date, duration) => `${lightFormat(new Date(date), 'HH:mm')} – ${lightFormat(\n  addMinutes(new Date(date), duration),\n  'HH:mm',\n)}`;\n","import axios from 'axios';\n\nconst url = 'https://front-test.beta.aviasales.ru';\n\nexport const getSearchId = () => axios.get(`${url}/search`).then((response) => response.data.searchId);\n\nexport const getData = (searchId) => axios.get(`${url}/tickets?searchId=${searchId}`);\n","import styled from 'styled-components';\n\nexport const Wrapper = styled.div`\n  display: flex;\n\n  align-items: flex-start;\n  margin: 0 auto;\n  padding: 0 10px;\n  max-width: 730px;\n\n  @media (max-width: 768px) {\n    flex-direction: column;\n  }\n`;\n\nexport const Container = styled.div`\n  display: flex;\n  flex-direction: column;\n  flex-grow: 1;\n  padding: 0;\n\n  @media (max-width: 768px) {\n    width: 100%;\n  }\n`;\n\nexport const List = styled.ul`\n  padding: 0;\n  margin: 0;\n  text-align: center;\n  list-style: none;\n`;\n\nexport const Loading = styled.div`\n  position: fixed;\n  width: 100%;\n  height: 100%;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  margin: auto;\n  background-color: rgba(0, 0, 0, 0.3);\n`;\n\nexport const LoadingInner = styled.div`\n  width: 10px;\n  height: 10px;\n  position: absolute;\n  top: 50%;\n  border-radius: 50%;\n  position: relative;\n  animation: loader-2 0.9s 0.35s ease alternate infinite;\n  margin: -20px auto 0;\n\n  &:after,\n  &:before {\n    content: '';\n    position: absolute;\n    width: 10px;\n    height: 10px;\n    border-radius: 50%;\n    animation: loader-2 0.9s ease alternate infinite;\n  }\n\n  &:before {\n    left: -20px;\n    animation-delay: 0.2s;\n  }\n\n  &:after {\n    right: -20px;\n    animation-delay: 0.5s;\n  }\n\n  @keyframes loader-2 {\n    0% {\n      box-shadow: 0 15px 0 -15px #ffffff;\n    }\n    100% {\n      box-shadow: 0 15px 0 #ffffff;\n    }\n  }\n`;\n","import React from 'react';\nimport uniqueId from 'lodash.uniqueid';\n\nimport Filter from '../filter/filter';\nimport Sort from '../sort/sort';\nimport Ticket from '../ticket/ticket';\n\nimport { cutArray } from '../../utils/utils';\nimport { getSearchId, getData } from '../../data/data';\n\nimport {\n  Wrapper, Container, List, Loading, LoadingInner,\n} from './style';\n\nclass Tickets extends React.Component {\n  state = {\n    searchId: '',\n    sortByPrice: true,\n    stop: false,\n    filtered: [],\n    noStops: true,\n    oneStop: true,\n    twoStops: true,\n    threeStops: true,\n    allStops: true,\n  };\n\n  async componentDidMount() {\n    this.setState({\n      searchId: await getSearchId(),\n    });\n    this.onTicketsLoad();\n  }\n\n  onTicketsLoad = () => {\n    const { searchId, stop, filtered } = this.state;\n\n    getData(searchId)\n      .then((response) => {\n        const ticketsById = response.data.tickets.map((ticket) => ({ ...ticket, id: uniqueId() }));\n        this.setState({\n          filtered: [...filtered, ...ticketsById],\n          stop: response.data.stop,\n        });\n\n        if (!stop) {\n          this.setState((prevState) => ({\n            filtered: prevState.filtered.sort((first, second) => first.price - second.price),\n          }));\n          this.onTicketsLoad();\n        }\n      })\n      .catch(() => {\n        // console.log('error', error);\n        if (!stop) {\n          this.onTicketsLoad();\n        }\n      });\n  };\n\n  onSortChange = (evt) => {\n    if (evt.target.value === 'fastest') {\n      this.setState((prevState) => ({\n        sortByPrice: false,\n        filtered: prevState.filtered.sort(\n          (first, second) => first.segments[0].duration\n            + first.segments[1].duration\n            - (second.segments[0].duration + second.segments[1].duration),\n        ),\n      }));\n    } else {\n      this.setState((prevState) => ({\n        sortByPrice: true,\n        filtered: prevState.filtered.sort((first, second) => first.price - second.price),\n      }));\n    }\n  };\n\n  onFilterCheck = (evt, stops) => {\n    if (stops === 'allStops') {\n      this.setState((prevState) => ({\n        noStops: !prevState.allStops,\n        oneStop: !prevState.allStops,\n        twoStops: !prevState.allStops,\n        threeStops: !prevState.allStops,\n        allStops: !prevState.allStops,\n      }));\n    } else {\n      this.setState((prevState) => ({\n        [stops]: !prevState[stops],\n        allStops: false,\n      }));\n    }\n  };\n\n  render() {\n    const {\n      noStops,\n      oneStop,\n      twoStops,\n      threeStops,\n      allStops,\n      filtered,\n      sortByPrice,\n      stop,\n    } = this.state;\n\n    const ticketsFiltered = filtered.filter((ticket) => {\n      const { stops } = ticket.segments[0];\n      return (\n        allStops\n        || (threeStops && stops.length === 3)\n        || (twoStops && stops.length === 2)\n        || (oneStop && stops.length === 1)\n        || (noStops && stops.length === 0)\n      );\n    });\n\n    const ticketsFilteredCutted = cutArray(ticketsFiltered, 5);\n\n    const ticketsList = ticketsFilteredCutted.map((ticket) => (\n      <Ticket\n        key={ticket.id}\n        price={ticket.price}\n        carrier={ticket.carrier}\n        segments={ticket.segments}\n      />\n    ));\n\n    return (\n      <Wrapper>\n        <Filter\n          allStops={allStops}\n          noStops={noStops}\n          oneStop={oneStop}\n          twoStops={twoStops}\n          threeStops={threeStops}\n          onFilterCheck={this.onFilterCheck}\n        />\n\n        <Container>\n          <Sort sortByPrice={sortByPrice} onSortChange={this.onSortChange} />\n          <List>{ticketsList}</List>\n        </Container>\n        {stop ? null : (\n          <Loading>\n            <LoadingInner />\n          </Loading>\n        )}\n      </Wrapper>\n    );\n  }\n}\n\nexport default Tickets;\n","import styled from 'styled-components';\n\nconst Header = styled.img`\n  display: flex;\n  margin: 40px auto;\n`;\n\nexport default Header;\n","import React from 'react';\nimport logo from '../../media/Logo.png';\nimport Tickets from '../tickets/tickets';\n\nimport Header from './style';\n\nconst App = () => (\n  <>\n    <Header src={logo} alt=\"logo\" />\n    <Tickets />\n  </>\n);\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './components/app/App';\n\nimport './index.scss';\n\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}