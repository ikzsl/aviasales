(this.webpackJsonpaviasales=this.webpackJsonpaviasales||[]).push([[0],{15:function(t,e,n){t.exports=n.p+"static/media/logo.d2a4807b.png"},20:function(t,e,n){t.exports=n(45)},25:function(t,e,n){},26:function(t,e,n){},45:function(t,e,n){"use strict";n.r(e);var o=n(0),a=n.n(o),s=n(14),r=n.n(s),c=(n(25),n(15)),i=n.n(c),l=(n(26),n(2)),p=n(16),u=n(17),h=n(19),d=n(18),m=n(4),S=n.n(m),g=n(3),k=n.n(g),f=function(t){var e=t.price,n=t.carrier,o=t.origin1,s=t.origin2,r=t.destination1,c=t.destination2,i=t.date1,l=t.date2,p=t.stops1,u=t.stops2,h=t.duration1,d=t.duration2;return a.a.createElement("li",{key:k()()},a.a.createElement("img",{src:"//pics.avs.io/99/36/".concat(n,".png"),alt:"".concat(n)}),a.a.createElement("br",null),e,a.a.createElement("br",null),n,a.a.createElement("br",null),o,"-",r,"-",i,"-",h,"-",p.length,a.a.createElement("br",null),s,"-",c,"-",l,"-",d,"-",u.length,a.a.createElement("hr",null))},b=function(t){Object(h.a)(n,t);var e=Object(d.a)(n);function n(){var t;Object(p.a)(this,n);for(var o=arguments.length,a=new Array(o),s=0;s<o;s++)a[s]=arguments[s];return(t=e.call.apply(e,[this].concat(a))).state={searchId:"",tickets:[],stop:!1,filtered:[],noStops:!1,oneStop:!1,twoStops:!1,threeStops:!1,allStops:!0},t.onTicketsLoad=function(){var e=t.state,n=e.searchId,o=e.stop,a=e.tickets;S.a.get("https://front-test.beta.aviasales.ru/tickets?searchId=".concat(n)).then((function(e){t.setState({tickets:[].concat(Object(l.a)(a),Object(l.a)(e.data.tickets)),filtered:[].concat(Object(l.a)(a),Object(l.a)(e.data.tickets)),stop:e.data.stop}),o||(t.onTicketsLoad(),t.onSortByChipest())})).catch((function(){o||t.onTicketsLoad()}))},t.onSortByFastest=function(){t.setState((function(t){return{filtered:t.filtered.sort((function(t,e){return t.segments[0].duration+t.segments[1].duration-(e.segments[0].duration+e.segments[1].duration)}))}}))},t.onSortByChipest=function(){t.setState((function(t){return{filtered:t.filtered.sort((function(t,e){return t.price-e.price}))}}))},t.onNoStopsCheck=function(e){t.setState({noStops:e.target.checked})},t.onOneStopCheck=function(e){t.setState({oneStop:e.target.checked})},t.onTwoStopsCheck=function(e){t.setState({twoStops:e.target.checked})},t.onThreeStopsCheck=function(e){t.setState({threeStops:e.target.checked})},t.onAllStopsCheck=function(e){t.setState({allStops:e.target.checked})},t}return Object(u.a)(n,[{key:"componentDidMount",value:function(){var t=this;S.a.get("https://front-test.beta.aviasales.ru/search").then((function(e){t.setState({searchId:e.data.searchId}),t.onTicketsLoad()}))}},{key:"render",value:function(){var t=this.state,e=t.noStops,n=t.oneStop,o=t.twoStops,s=t.threeStops,r=t.allStops,c=function(t,e){if(0===t.length)return[];for(var n=[],o=0;o<e;o+=1)n[o]=t[o];return n}(t.filtered.filter((function(t){return r||!0===s&&3===t.segments[0].stops.length||!0===o&&2===t.segments[0].stops.length||!0===n&&1===t.segments[0].stops.length||!0===e&&0===t.segments[0].stops.length})),5).map((function(t){return a.a.createElement(f,{key:k()(),price:t.price,carrier:t.carrier,origin1:t.segments[0].origin,origin2:t.segments[1].origin,destination1:t.segments[0].destination,destination2:t.segments[1].destination,date1:t.segments[0].date,date2:t.segments[1].date,stops1:t.segments[0].stops,stops2:t.segments[1].stops,duration1:t.segments[0].duration,duration2:t.segments[1].duration})}));return a.a.createElement("div",{className:"timer-container"},a.a.createElement("label",{htmlFor:"allStops"},"all",a.a.createElement("input",{type:"checkbox",checked:r,id:"allStops",onClick:this.onAllStopsCheck})),a.a.createElement("label",{htmlFor:"noStops"},"noStops",a.a.createElement("input",{type:"checkbox",id:"noStops",onClick:this.onNoStopsCheck})),a.a.createElement("label",{htmlFor:"oneStop"},"1stop",a.a.createElement("input",{type:"checkbox",id:"oneStop",onClick:this.onOneStopCheck})),a.a.createElement("label",{htmlFor:"twoStops"},"2stops",a.a.createElement("input",{type:"checkbox",id:"twoStops",onClick:this.onTwoStopsCheck})),a.a.createElement("label",{htmlFor:"threeStops"},"3stops",a.a.createElement("input",{type:"checkbox",id:"threeStops",onClick:this.onThreeStopsCheck})),a.a.createElement("div",{className:"display"},a.a.createElement("span",null)),a.a.createElement("button",{type:"button",onClick:this.onSortByFastest},"SortByFastest"),a.a.createElement("button",{type:"button",onClick:this.onSortByChipest},"SortByChipest"),a.a.createElement("ul",null,c))}}]),n}(a.a.Component),E=function(){return a.a.createElement("div",{className:"App"},a.a.createElement("header",{className:"App-header"},a.a.createElement("img",{src:i.a,className:"App-logo",alt:"logo"})),a.a.createElement(b,null))};r.a.render(a.a.createElement(E,null),document.getElementById("root"))}},[[20,1,2]]]);
//# sourceMappingURL=main.57c8f492.chunk.js.map